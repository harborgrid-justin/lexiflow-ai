import React, { useState } from 'react';\nimport { useCases, useMutation } from '../hooks/useApi';\nimport { ApiService } from '../services/apiService';\nimport { Case } from '../types';\nimport { Plus, RefreshCw, AlertCircle } from 'lucide-react';\n\n// Example component showing how to use the new API integration\nexport const CaseListExample: React.FC = () => {\n  const { data: cases, loading, error, refetch } = useCases();\n  const { mutate: createCase, loading: creating, error: createError } = useMutation(ApiService.createCase);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newCaseTitle, setNewCaseTitle] = useState('');\n  const [newCaseClient, setNewCaseClient] = useState('');\n\n  const handleCreateCase = async () => {\n    if (!newCaseTitle.trim() || !newCaseClient.trim()) return;\n\n    const newCase = await createCase({\n      title: newCaseTitle,\n      client_name: newCaseClient,\n      status: 'Active',\n      filing_date: new Date().toISOString(),\n      description: `New case for ${newCaseClient}`,\n    });\n\n    if (newCase) {\n      setNewCaseTitle('');\n      setNewCaseClient('');\n      setShowCreateForm(false);\n      refetch(); // Refresh the cases list\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <RefreshCw className=\"w-6 h-6 animate-spin text-blue-600\" />\n        <span className=\"ml-2\">Loading cases...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-4 border border-red-200 rounded-lg bg-red-50 text-red-700\">\n        <div className=\"flex items-center\">\n          <AlertCircle className=\"w-5 h-5 mr-2\" />\n          <span>Error loading cases: {error}</span>\n        </div>\n        <button \n          onClick={refetch}\n          className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold\">Cases</h1>\n        <button\n          onClick={() => setShowCreateForm(!showCreateForm)}\n          className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          New Case\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <div className=\"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50\">\n          <h3 className=\"text-lg font-medium mb-4\">Create New Case</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Case Title\"\n              value={newCaseTitle}\n              onChange={(e) => setNewCaseTitle(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Client Name\"\n              value={newCaseClient}\n              onChange={(e) => setNewCaseClient(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          {createError && (\n            <p className=\"text-red-600 text-sm mt-2\">{createError}</p>\n          )}\n          <div className=\"flex gap-2 mt-4\">\n            <button\n              onClick={handleCreateCase}\n              disabled={creating || !newCaseTitle.trim() || !newCaseClient.trim()}\n              className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50\"\n            >\n              {creating ? 'Creating...' : 'Create Case'}\n            </button>\n            <button\n              onClick={() => setShowCreateForm(false)}\n              className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {cases?.map((case_: Case) => (\n          <div key={case_.id} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\n            <h3 className=\"text-lg font-medium mb-2\">{case_.title}</h3>\n            <p className=\"text-gray-600 mb-2\">{case_.client || case_.description}</p>\n            <div className=\"flex justify-between items-center\">\n              <span className={`px-2 py-1 rounded text-sm ${\n                case_.status === 'Active' ? 'bg-green-100 text-green-800' :\n                case_.status === 'Closed' ? 'bg-gray-100 text-gray-800' :\n                'bg-yellow-100 text-yellow-800'\n              }`}>\n                {case_.status}\n              </span>\n              <span className=\"text-sm text-gray-500\">\n                {case_.filingDate}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {cases?.length === 0 && (\n        <div className=\"text-center py-12 text-gray-500\">\n          <p className=\"text-lg mb-2\">No cases found</p>\n          <p>Create your first case to get started</p>\n        </div>\n      )}\n    </div>\n  );\n};