{
  "permissions": {
    "allow": [
      "Bash(xargs:*)",
      "Bash(find:*)",
      "Bash(cat:*)",
      "Bash(dir \"C:\\temp\\lexiflow-ai\\nestjs\")",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(npx tsc:*)",
      "Bash(pkill:*)",
      "Bash(grep:*)",
      "Bash(npx esbuild:*)",
      "Bash(tree:*)",
      "Bash(node -e:*)",
      "Bash(node:*)",
      "Bash(npm run db:sync:*)",
      "Bash(curl:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJzdWIiOiJhNGJiNTU1Yy00ZjlkLTQxNjctOGYzYy05YzBkN2YyMzcxNmEiLCJvcmdJZCI6Ijc3NDkyODA0LTE2ZTMtNGNhZC1hYmU1LTM0ZmNiNTdlZTMwOCIsImlhdCI6MTc2NDUxNTkyNywiZXhwIjoxNzY0NjAyMzI3fQ.0BOKtUXhE8gp6KdCceQQzOizZuqiuzj6iSoTNplzjuk\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGxleGlmbG93LmNvbSIsInN1YiI6ImY5MzdiYjBkLWQ5Y2MtNGI3Ni1iMThjLTA1NzkzOTNhNDk2YSIsIm9yZ0lkIjoiNzc0OTI4MDQtMTZlMy00Y2FkLWFiZTUtMzRmY2I1N2VlMzA4IiwiaWF0IjoxNzY0NTE2MjQ5LCJleHAiOjE3NjQ2MDI2NDl9.lo1jxvg0p9E5LTvEt3TOoYHaswvyEeHU6lnkUhlPONg\")",
      "Bash(pgrep:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGxleGlmbG93LmNvbSIsInN1YiI6ImY5MzdiYjBkLWQ5Y2MtNGI3Ni1iMThjLTA1NzkzOTNhNDk2YSIsIm9yZ0lkIjoiNzc0OTI4MDQtMTZlMy00Y2FkLWFiZTUtMzRmY2I1N2VlMzA4IiwiaWF0IjoxNzY0NTE2Mjk2LCJleHAiOjE3NjQ2MDI2OTZ9.-vCkHIiw0L3YluRC_x5BsVEn2qHxwgaSmIBSY8r079c\")",
      "Bash(fuser:*)",
      "Bash(chmod:*)",
      "Bash(printf:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGxleGlmbG93LmNvbSIsInN1YiI6ImY5MzdiYjBkLWQ5Y2MtNGI3Ni1iMThjLTA1NzkzOTNhNDk2YSIsIm9yZ0lkIjoiNzc0OTI4MDQtMTZlMy00Y2FkLWFiZTUtMzRmY2I1N2VlMzA4IiwiaWF0IjoxNzY0NTE3MTI3LCJleHAiOjE3NjQ2MDM1Mjd9.PJexWKdB3WL2XhZACd_W0Rgt73cEU5E01k2X8W64Frw\")",
      "Bash(echo \"=== Testing workflow/stages ===\" curl -s -H \"Authorization: Bearer $TOKEN\" http://localhost:3001/api/v1/workflow/stages)",
      "Bash(echo \"\" echo \"\" echo \"=== Testing billing/time-entries ===\" curl -s -H \"Authorization: Bearer $TOKEN\" http://localhost:3001/api/v1/billing/time-entries)",
      "Bash(echo \"\" echo \"\" echo \"=== Testing motions ===\" curl -s -H \"Authorization: Bearer $TOKEN\" http://localhost:3001/api/v1/motions)",
      "Bash(/workspaces/lexiflow-ai/kill-ports.sh)",
      "Bash(npm run db:seed:comprehensive:*)",
      "Bash(lsof:*)",
      "Bash(npm run lint:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git rebase:*)",
      "Bash(1 <<'EOF'\npick a688969 12345\nfixup 43e0cfd Fix mobile card rendering by ensuring safe access to entries and converting values to numbers\nfixup 9704f7f 1324\nfixup 13ab8c1 Fix runtime errors: substring/toLowerCase on undefined, evidence object transformation, and lint issues\nEOF)",
      "Bash(git stash:*)",
      "Bash(git restore:*)",
      "Bash(git checkout:*)",
      "Bash(git reset:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(npm run type-check:*)",
      "Bash(npx vue-tsc:*)",
      "mcp__ide__getDiagnostics",
      "Bash(./node_modules/.bin/tsc:*)",
      "Bash(echo \"\n\n---\n\n### Agent 23 - CaseWorkflow.tsx (December 2, 2025)\n\n**Component Complexity:** Medium - Workflow management with 3 tabs (timeline/automation/engine), expandable stages, tasks\n\n**Migration Time:** ~8 minutes\n\n**Component Characteristics:**\n- 3-tab interface: Timeline (workflow stages), Automation (workflow rules), Engine (advanced workflow panel)\n- Timeline tab: Expandable workflow stages with collapsible task lists\n- Task toggling: Check/uncheck tasks to mark as Done/Pending\n- AI Assist button: Generates workflow using AI\n- Templates button: Opens workflow playbook templates\n- Stats header: Progress bar showing overall workflow completion\n\n**Enzyme Features Added:**\n1. ✅ JSDoc header with comprehensive ENZYME MIGRATION documentation\n2. ✅ \\`useTrackEvent()\\` with 5 event types:\n   - \\`case_workflow_tab_changed\\` (tracks fromTab/toTab)\n   - \\`case_workflow_stage_expanded\\` (tracks stageId, stageName, stageStatus, taskCount, expanded state)\n   - \\`case_workflow_task_toggled\\` (tracks taskId, stageId, stageName, taskName, previousStatus, newStatus)\n   - \\`case_workflow_ai_assist_clicked\\` (tracks caseId, currentTab, generatingWorkflow state)\n   - \\`case_workflow_templates_clicked\\` (tracks caseId, currentTab)\n3. ✅ \\`useLatestCallback\\` for 5 handlers:\n   - \\`handleToggleTask\\` - Task completion toggle with tracking\n   - \\`setActiveTab\\` - Tab switching with tracking\n   - \\`setExpandedStage\\` - Stage expand/collapse with conditional tracking (only track expansions, not collapses)\n   - \\`handleTemplatesClick\\` - Templates button with tracking\n   - \\`handleAIAssistClick\\` - AI Assist button with tracking\n\n**Migration Patterns Applied:**\n1. **State Renaming Pattern**: Renamed state variables to \\`activeTabState\\` and \\`expandedStageState\\`, then created stable references \\`activeTab\\` and \\`expandedStage\\` from wrapped callbacks\n2. **Conditional Tracking**: Only track stage expansion (when expanding), not collapse (when setting to null) to reduce noise in analytics\n3. **Rich Event Properties**: Included comprehensive context in events (e.g., task toggle includes both task and stage info, button clicks include current tab context)\n4. **Wrapped Button Handlers**: Created separate \\`handleTemplatesClick\\` and \\`handleAIAssistClick\\` handlers instead of inline onClick to ensure stable references and proper tracking\n\n**Key Learnings:**\n1. **Conditional tracking is valuable** - The \\`setExpandedStage\\` handler only tracks when expanding, not collapsing, which reduces analytics noise while still capturing user interest\n2. **Context-rich event properties** - Including contextual info like \\`currentTab\\` in button click events provides valuable insights into user behavior patterns\n3. **State renaming pattern works well** - Renaming state to \\`*State\\` and creating derived values from wrapped callbacks maintains backward compatibility with JSX\n4. **Button handler extraction** - Creating separate named handlers (vs inline arrows) improves readability and ensures stable references with useLatestCallback\n\n**No Issues Encountered:**\n- Clean migration with no API deviations\n- All trackEvent calls use correct string-based format: \\`trackEvent(''event_name'', { props })\\`\n- useLatestCallback pattern applied consistently across all handlers\n- No TypeScript errors\n\n**Analytics Value:**\n- Tab usage metrics will show which workflow views (timeline/automation/engine) are most valuable\n- Stage expansion tracking reveals which workflow stages get the most attention\n- Task toggle tracking provides completion rate insights\n- AI Assist and Templates usage metrics inform feature adoption\n\")"
    ],
    "deny": [],
    "ask": []
  }
}
